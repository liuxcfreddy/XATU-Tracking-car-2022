C51 COMPILER V9.54   MAIN                                                                  09/24/2022 16:53:20 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Objects\main.obj
COMPILER INVOKED BY: D:\filegame\keil\C51\BIN\C51.EXE main.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listing
                    -s\main.lst) OBJECT(.\Objects\main.obj)

line level    source

   1          /*È©±Âä®Ê®°Âùó‰ª£Á†ÅÁßªÊ§çËá™ÂîêÊù∞Â≠¶Èïø*/
   2          #include "reg52.h"
   3          #include "intrins.h"
   4          /********‰ª•‰∏ã‰∏∫ÂèÇÊï∞‰∏éÁéØÂ¢ÉÂèòÈáèÂå∫********/
   5          unsigned int path;                                      //Á∫¢Â§ñÂØπÁÆ°ÂèçÈ¶àÁöÑÁéØÂ¢ÉÂèòÈáè
   6          unsigned int pow;                                       //ÁîµÊú∫È©±Âä®ÂäõÂ∫¶ÁöÑË∞ÉËäÇ
   7          unsigned int i=0;                                       //ËΩ®ÈÅì‰∏¢Â§±ÂèÇÊï∞(ÂΩìËΩ®ÈÅì‰∏¢Â§±Âà∞‰∏ÄÂÆöÁöÑÊó∂Èó¥ÂêéÂêØÂä®ÂÄíËΩ¶Á®ãÂ∫è)
   8          sbit  Car_Servo=P2^0;               // ËàµÊú∫pwmÊéßÂà∂
   9          
  10          void Delay(unsigned char time)          //@12.000MHz
  11          {
  12   1              unsigned char T=0;
  13   1              while(T==time)
  14   1              {
  15   2              unsigned char i, j, k;
  16   2      
  17   2              _nop_();
  18   2              _nop_();
  19   2              i = 5;
  20   2              j = 144;
  21   2              k = 71;
  22   2              do
  23   2              {
  24   3                      do
  25   3                      {
  26   4                              while (--k);
  27   4                      } while (--j);
  28   3              } while (--i);
  29   2              T++;
  30   2              }
  31   1      }
  32          
  33          unsigned int Servo0PwmDuty=1500;        //PWMËÑâÂÜ≤ÂÆΩÂ∫¶   1.5msËÑâÂÜ≤ÂÆΩÂ∫¶  ‰∏∫ËàµÊú∫Ê≠£‰∏≠‰ΩçÁΩÆ
  34          
  35          /***********************************************************
  36          * Âêç    Áß∞ÔºöInitTimer0()
  37          * Âäü    ËÉΩÔºöËàµÊú∫Êó∂Èíü0ÂàùÂßãÂåñ
  38          * ÂÖ•Âè£ÂèÇÊï∞ÔºöÊó†
  39          * Âá∫Âè£ÂèÇÊï∞ÔºöÊó†
  40          * ËØ¥    ÊòéÔºö12MÊô∂ÊåØÔºå12ÂàÜÈ¢ëÔºåÊâÄ‰ª•ËÆ°Êï∞Âô®ÊØèÈÄíÂ¢û‰∏Ä‰∏™Êï∞Â∞±ÊòØ1ÂæÆÁßíÔºåÂÆåÂÖ®Êª°Ë∂≥ËàµÊú∫Ê
             -éßÂà∂ÁöÑÁ≤æÂ∫¶Ë¶ÅÊ±Ç
  41                                  Âõ†‰∏∫ÂÆöÊó∂Âô®ÊòØTH0ÔºåTL0ÈÉΩË¶ÅÂÖ®ÈÉ®ËÆ°Êï∞Âà∞0xFFÂêéÂú®ËÆ°1‰∏™Êï∞Â∞±‰ºö‰∫ßÁîü‰∏≠Êñ≠ÔºåÊâÄ‰ª•Ë¶ÅÊÉ≥‰∫
             -ßÁîü
  42                                  xÊØ´ÁßíÁöÑ‰∏≠Êñ≠ÔºåÈÇ£‰πàTH0ÔºåTL0Â∞±Â∫îËØ•ËµãÂÄºÔºà0xFFFF-xÔºâ ‰ªéËøô‰∏™ÂÄºÂºÄÂßãËÆ°Êï∞‰∫ßÁîüÂÆöÊó∂‰∏≠
             -Êñ≠
  43          /**********************************************************/
  44          void InitTimer0(void)           //20ms
  45          {
  46   1          TMOD &= 0xF0;               //ËÆæÁΩÆÂÆöÊó∂Âô®Ê®°Âºè
  47   1          TMOD |= 0x01;               //ËÆæÁΩÆÂÆöÊó∂Âô®Ê®°Âºè
  48   1          TL0 = 0xE0;                 //ËÆæÁΩÆÂÆöÊó∂ÂàùÂÄº
  49   1          TH0 = 0xB1;                 //ËÆæÁΩÆÂÆöÊó∂ÂàùÂÄº
  50   1          TF0 = 0;                    //Ê∏ÖÈô§TF0Ê†áÂøó
  51   1          TR0 = 1;                    //ÂÆöÊó∂Âô®0ÂºÄÂßãËÆ°Êó∂
C51 COMPILER V9.54   MAIN                                                                  09/24/2022 16:53:20 PAGE 2   

  52   1          ET0 = 1;                    //ÂºÄÂÆöÊó∂Âô®0‰∏≠Êñ≠
  53   1          EA = 1;             //ÂºÄÊÄª‰∏≠Êñ≠
  54   1      }
  55          void Car_Servo_Init()   //ËàµÊú∫ÂàùÂßãÂåñ
  56          {
  57   1          InitTimer0();
  58   1      }
  59          
  60          /***********************************************************
  61          * Âêç    Áß∞ÔºöTimer0Value(uint16 pwm)
  62          * Âäü    ËÉΩÔºöÁªôÂÆöÊó∂Âô®0ËÆ°Êï∞Âô®ËµãÂÄº‰∫ßÁîüÂÆöÊó∂‰∏≠Êñ≠
  63          * ÂÖ•Âè£ÂèÇÊï∞Ôºöpwm            ÊéßÂà∂ËàµÊú∫ÁöÑPWMËÑâÂÜ≤ÂÆΩÂ∫¶ÂÄºÔºàËåÉÂõ¥Ôºö500~2500Ôºâ
  64          * Âá∫Âè£ÂèÇÊï∞ÔºöÊó†
  65          * ËØ¥    ÊòéÔºö12MÊô∂ÊåØÔºå12ÂàÜÈ¢ëÔºåÊâÄ‰ª•ËÆ°Êï∞Âô®ÊØèÈÄíÂ¢û‰∏Ä‰∏™Êï∞Â∞±ÊòØ1ÂæÆÁßíÔºåÂÆåÂÖ®Êª°Ë∂≥ËàµÊú∫Ê
             -éßÂà∂ÁöÑÁ≤æÂ∫¶Ë¶ÅÊ±Ç
  66                                  Âõ†‰∏∫ÂÆöÊó∂Âô®ÊòØTH0ÔºåTL0ÈÉΩË¶ÅÂÖ®ÈÉ®ËÆ°Êï∞Âà∞0xFFÂêéÂú®ËÆ°1‰∏™Êï∞Â∞±‰ºö‰∫ßÁîü‰∏≠Êñ≠ÔºåÊâÄ‰ª•Ë¶ÅÊÉ≥‰∫
             -ßÁîü
  67                                  pwmÊØ´ÁßíÁöÑ‰∏≠Êñ≠ÔºåÈÇ£‰πàTH0ÔºåTL0Â∞±Â∫îËØ•ËµãÂÄºÔºà0xFFFF-pwmÔºâ     ‰ªéËøô‰∏™ÂÄºÂºÄÂßãËÆ°Êï∞‰∫ßÁîüÂÆöÊó
             -∂‰∏≠Êñ≠
  68          /**********************************************************/
  69          void Timer0Value(unsigned int pwm)
  70          {
  71   1          unsigned int value;
  72   1          value=0xffff-pwm;
  73   1          TR0 = 0;
  74   1          TL0=value;                  //16‰ΩçÊï∞ÊçÆÁªô8‰ΩçÊï∞ÊçÆËµãÂÄºÈªòËÆ§Â∞Ü16‰ΩçÊï∞ÊçÆÁöÑ‰ΩéÂÖ´‰ΩçÁõ¥Êé•ËµãÁªôÂÖ´‰ΩçÊï∞ÊçÆ
  75   1          TH0=value>>8;               //Â∞Ü16‰ΩçÊï∞ÊçÆÂè≥Áßª8‰ΩçÔºå‰πüÂ∞±ÊòØÂ∞ÜÈ´ò8‰ΩçÁßªÂà∞‰ΩéÂÖ´‰ΩçÔºåÂÜçËµãÂÄºÁªô8‰ΩçÊï∞Êç
             -Æ
  76   1          TR0 = 1;
  77   1      }
  78          
  79          /***********************************************************
  80          * Âêç    Áß∞Ôºö Timer0_isr() interrupt 1 using 1
  81          * Âäü    ËÉΩÔºö Êó∂Èíü0‰∏≠Êñ≠Â§ÑÁêÜ
  82          * ÂÖ•Âè£ÂèÇÊï∞Ôºö Êó†
  83          * Âá∫Âè£ÂèÇÊï∞Ôºö Êó†
  84          * ËØ¥    ÊòéÔºö
  85          /**********************************************************/
  86          void Timer0_isr(void) interrupt 1 using 1
  87          {
  88   1          static unsigned char i = 1; //ÈùôÊÄÅÂèòÈáèÔºöÊØèÊ¨°Ë∞ÉÁî®ÂáΩÊï∞Êó∂‰øùÊåÅ‰∏ä‰∏ÄÊ¨°ÊâÄËµãÁöÑÂÄºÔºå
  89   1          //Ë∑üÂÖ®Â±ÄÂèòÈáèÁ±ª‰ººÔºå‰∏çÂêåÊòØÂÆÉÂè™ËÉΩÁî®‰∫éÊ≠§ÂáΩÊï∞ÂÜÖÈÉ®
  90   1          switch(i)
  91   1          {
  92   2          case 1:
  93   2              Car_Servo = 1;  //PWMÊéßÂà∂ËÑöÈ´òÁîµÂπ≥
  94   2              //ÁªôÂÆöÊó∂Âô®0ËµãÂÄºÔºåËÆ°Êï∞Pwm0Duty‰∏™ËÑâÂÜ≤Âêé‰∫ßÁîü‰∏≠Êñ≠Ôºå‰∏ãÊ¨°‰∏≠Êñ≠‰ºöËøõÂÖ•‰∏ã‰∏Ä‰∏™cas
             -eËØ≠Âè•
  95   2              Timer0Value(Servo0PwmDuty);
  96   2              break;
  97   2          case 2:
  98   2              Car_Servo = 0;  //PWMÊéßÂà∂ËÑö‰ΩéÁîµÂπ≥
  99   2              //È´òËÑâÂÜ≤ÁªìÊùüÂêéÂâ©‰∏ãÁöÑÊó∂Èó¥(20000-Pwm0Duty)ÂÖ®ÊòØ‰ΩéÁîµÂπ≥‰∫ÜÔºåPwm0Duty + (20000-Pwm0Duty
             -) = 20000‰∏™ËÑâÂÜ≤Ê≠£Â•Ω‰∏∫‰∏Ä‰∏™Âë®Êúü20ÊØ´Áßí
 100   2              Timer0Value(20000-Servo0PwmDuty);
 101   2              i = 0;
 102   2              break;
 103   2          }
 104   1          i++;
 105   1      }
 106          
 107          sbit  Car_Motor_A1=P3^2;         // ÁîµÊú∫PWMÊéßÂà∂Á´Ø
C51 COMPILER V9.54   MAIN                                                                  09/24/2022 16:53:20 PAGE 3   

 108          sbit  Car_Motor_EN1=P3^3;        //ÁîµÊú∫‰ΩøËÉΩÊéßÂà∂Á´Ø
 109          sbit  Car_Motor_B1=P3^4;         // ÁîµÊú∫ÊéßÂà∂Á´Ø
 110          
 111          unsigned int Motor0PwmDuty=2750;                  //ÂàùÂßãÂç†Á©∫ÊØî‰∏∫3000:7000
 112          /***********************************************************
 113          * Âêç    Áß∞ÔºöTimer1Value(unsigned int pwm)
 114          * Âäü    ËÉΩÔºöÁªôÂÆöÊó∂Âô®1ËÆ°Êï∞Âô®ËµãÂÄº‰∫ßÁîüÂÆöÊó∂‰∏≠Êñ≠
 115          * ÂÖ•Âè£ÂèÇÊï∞Ôºöpwm            ÊéßÂà∂ÁîµÊú∫ÁöÑPWMËÑâÂÜ≤ÂÆΩÂ∫¶ÂÄºÔºàËåÉÂõ¥Ôºö0~10000Ôºâ
 116          * Âá∫Âè£ÂèÇÊï∞ÔºöÊó†
 117          * ËØ¥    ÊòéÔºö12MÊô∂ÊåØÔºå12ÂàÜÈ¢ëÔºåÊâÄ‰ª•ËÆ°Êï∞Âô®ÊØèÈÄíÂ¢û‰∏Ä‰∏™Êï∞Â∞±ÊòØ1ÂæÆÁßíÔºåÂÆåÂÖ®Êª°Ë∂≥ËàµÊú∫Ê
             -éßÂà∂ÁöÑÁ≤æÂ∫¶Ë¶ÅÊ±Ç
 118                                  Âõ†‰∏∫ÂÆöÊó∂Âô®ÊòØTH0ÔºåTL0ÈÉΩË¶ÅÂÖ®ÈÉ®ËÆ°Êï∞Âà∞0xFFÂêéÂú®ËÆ°1‰∏™Êï∞Â∞±‰ºö‰∫ßÁîü‰∏≠Êñ≠ÔºåÊâÄ‰ª•Ë¶ÅÊÉ≥‰∫
             -ßÁîü
 119                                  pwmÊØ´ÁßíÁöÑ‰∏≠Êñ≠ÔºåÈÇ£‰πàTH0ÔºåTL0Â∞±Â∫îËØ•ËµãÂÄºÔºà0xFFFF-pwmÔºâ     ‰ªéËøô‰∏™ÂÄºÂºÄÂßãËÆ°Êï∞‰∫ßÁîüÂÆöÊó
             -∂‰∏≠Êñ≠
 120          /**********************************************************/
 121          void Timer1Value(unsigned int pwm)
 122          {
 123   1          unsigned int value;
 124   1          value=0xffff-pwm;
 125   1          TR1 = 0;
 126   1          TL1=value;                  //16‰ΩçÊï∞ÊçÆÁªô8‰ΩçÊï∞ÊçÆËµãÂÄºÈªòËÆ§Â∞Ü16‰ΩçÊï∞ÊçÆÁöÑ‰ΩéÂÖ´‰ΩçÁõ¥Êé•ËµãÁªôÂÖ´‰ΩçÊï∞ÊçÆ
 127   1          TH1=value>>8;               //Â∞Ü16‰ΩçÊï∞ÊçÆÂè≥Áßª8‰ΩçÔºå‰πüÂ∞±ÊòØÂ∞ÜÈ´ò8‰ΩçÁßªÂà∞‰ΩéÂÖ´‰ΩçÔºåÂÜçËµãÂÄºÁªô8‰ΩçÊï∞Êç
             -Æ
 128   1          TR1 = 1;
 129   1      }
 130          
 131          /***********************************************************
 132          * Âêç    Áß∞ÔºöTimer1Init
 133          * Âäü    ËÉΩÔºöÁîµÊú∫Êó∂Èíü1ÂàùÂßãÂåñ
 134          * ÂÖ•Âè£ÂèÇÊï∞ÔºöÊó†
 135          * Âá∫Âè£ÂèÇÊï∞ÔºöÊó†
 136          * ËØ¥    ÊòéÔºö10ms‰∏ÄÂë®Êúü
 137          /**********************************************************/
 138          void Timer1Init(void)           //10ÊØ´Áßí@12.000MHz
 139          {
 140   1          TMOD &= 0x0F;               //ËÆæÁΩÆÂÆöÊó∂Âô®Ê®°Âºè
 141   1          TMOD |= 0x10;               //ËÆæÁΩÆÂÆöÊó∂Âô®Ê®°Âºè
 142   1          TL1 = 0xF0;                 //ËÆæÁΩÆÂÆöÊó∂ÂàùÂÄº
 143   1          TH1 = 0xD8;                 //ËÆæÁΩÆÂÆöÊó∂ÂàùÂÄº
 144   1          TF1 = 0;                    //Ê∏ÖÈô§TF1Ê†áÂøó
 145   1          TR1 = 1;                    //ÂÆöÊó∂Âô®1ÂºÄÂßãËÆ°Êó∂
 146   1          ET1 = 1;                    //ÂºÄÂÆöÊó∂Âô®1‰∏≠Êñ≠
 147   1          EA = 1;             //ÂºÄÊÄª‰∏≠Êñ≠
 148   1      }
 149          
 150          /***********************************************************
 151          * Âêç    Áß∞ÔºöCar_Motor_Init()
 152          * Âäü    ËÉΩÔºöÁîµÊú∫ÂàùÂßãÂåñ
 153          * ÂÖ•Âè£ÂèÇÊï∞ÔºöÊó†
 154          * Âá∫Âè£ÂèÇÊï∞ÔºöÊó†
 155          * ËØ¥    ÊòéÔºö10ms‰∏ÄÂë®Êúü
 156          /**********************************************************/
 157          void Car_Motor_Init()
 158          {
 159   1          Car_Motor_EN1=1;     //ÁîµÊú∫‰ΩøËÉΩÊéßÂà∂Á´Ø
 160   1          Car_Motor_B1=0;      // ÁîµÊú∫ÊéßÂà∂Á´Ø‰∏ÄÁ´Ø‰∏∫‰Ωé
 161   1          Car_Motor_A1=0;      // ÁîµÊú∫PWMÊéßÂà∂Á´Ø‰∏ÄÁ´Ø‰∏∫‰Ωé
 162   1          Timer1Init();       //ÁîµÊú∫ÂÆöÊó∂Âô®ÂàùÂßãÂåñ
 163   1      }
 164          /***********************************************************
 165          * Âêç    Áß∞Ôºö Timer1_isr() interrupt 3 using 3
C51 COMPILER V9.54   MAIN                                                                  09/24/2022 16:53:20 PAGE 4   

 166          * Âäü    ËÉΩÔºö Êó∂Èíü0‰∏≠Êñ≠Â§ÑÁêÜ
 167          * ÂÖ•Âè£ÂèÇÊï∞Ôºö Êó†
 168          * Âá∫Âè£ÂèÇÊï∞Ôºö Êó†
 169          * ËØ¥    ÊòéÔºö Êó†
 170          /**********************************************************/
 171          void Timer1_isr(void) interrupt 3 using 3
 172          {
 173   1          static unsigned char j = 1; //ÈùôÊÄÅÂèòÈáèÔºöÊØèÊ¨°Ë∞ÉÁî®ÂáΩÊï∞Êó∂‰øùÊåÅ‰∏ä‰∏ÄÊ¨°ÊâÄËµãÁöÑÂÄºÔºå
 174   1          //Ë∑üÂÖ®Â±ÄÂèòÈáèÁ±ª‰ººÔºå‰∏çÂêåÊòØÂÆÉÂè™ËÉΩÁî®‰∫éÊ≠§ÂáΩÊï∞ÂÜÖÈÉ®
 175   1              switch(j)
 176   1              {
 177   2              case 1:
 178   2                  Car_Motor_EN1 = 1;  //PWMÊéßÂà∂ËÑöÈ´òÁîµÂπ≥
 179   2                  //ÁªôÂÆöÊó∂Âô®0ËµãÂÄºÔºåËÆ°Êï∞Pwm0Duty‰∏™ËÑâÂÜ≤Âêé‰∫ßÁîü‰∏≠Êñ≠Ôºå‰∏ãÊ¨°‰∏≠Êñ≠‰ºöËøõÂÖ•‰∏ã‰∏Ä‰∏
             -™caseËØ≠Âè•
 180   2      
 181   2                  Timer1Value(Motor0PwmDuty); //È´òÁîµÂπ≥ÊåÅÁª≠Êó∂Èó¥
 182   2                  break;
 183   2              case 2:
 184   2                  Car_Motor_EN1 = 0;  //PWMÊéßÂà∂ËÑö‰ΩéÁîµÂπ≥
 185   2                  //È´òËÑâÂÜ≤ÁªìÊùüÂêéÂâ©‰∏ãÁöÑÊó∂Èó¥(20000-Pwm0Duty)ÂÖ®ÊòØ‰ΩéÁîµÂπ≥‰∫ÜÔºåPwm0Duty + (20000-Pwm0
             -Duty) = 20000‰∏™ËÑâÂÜ≤Ê≠£Â•Ω‰∏∫‰∏Ä‰∏™Âë®Êúü20ÊØ´Áßí
 186   2                  Timer1Value(10000-Motor0PwmDuty);//‰ΩéÁîµÂπ≥ÊåÅÁª≠Êó∂Èó¥
 187   2                  j = 0;
 188   2                  break;
 189   2              }
 190   1              j++;
 191   1      }
 192          /***********************************************************
 193          * Âêç    Áß∞Ôºöctry()
 194          * Âäü    ËÉΩÔºöËΩ®ÈÅì‰ΩçÁΩÆÁöÑÂà§Êñ≠
 195          * ÂÖ•Âè£ÂèÇÊï∞ÔºöP0 P2^3
 196          * Âá∫Âè£ÂèÇÊï∞ÔºöËæìÂá∫ËΩ®ÈÅìÂèòÈáèpathÔºåËØ•ÂèÇÊï∞‰∏∫ÁéØÂ¢ÉÂèòÈáèÔºåËàµÊú∫ÁöÑ‰∏≠Êñ≠Â§ÑÁêÜ
 197                                  ‰ºöÂõ†‰∏∫pathÁöÑÊîπÂèòËÄåÈÄâÊã©ÂêàÈÄÇÁöÑËßíÂ∫¶
 198          * ËØ¥    ÊòéÔºöi++Â∞±ÊòØÂØπËΩ®ÈÅìÂÅèÁ¶ªÁöÑÁªüËÆ°
 199          /**********************************************************/
 200          sbit AB=P2^3; // ËàµÊú∫ËΩ¨ÂêëÁöÑÊ†áËÆ∞Á´ØÂè£
 201          int ctry(unsigned int parameter)
 202          {
 203   1          if(AB==1)
 204   1          {
 205   2              switch(parameter)
 206   2                      {
 207   3                      case 191:
 208   3                  i=0;
 209   3                  return 2166;
 210   3              case 223:
 211   3                  i=0;
 212   3                  return 2000;
 213   3              case 239:
 214   3                  i=0;
 215   3                  return 1800;
 216   3              case 247:
 217   3                  i=0;
 218   3                  return 1500;//90¬∞
 219   3              case 251:
 220   3                  i=0;
 221   3                  return 1200;
 222   3              case 253:
 223   3                  i=0;
 224   3                  return 1000;
 225   3              case 254:
C51 COMPILER V9.54   MAIN                                                                  09/24/2022 16:53:20 PAGE 5   

 226   3                  i=0;
 227   3                  return 833;//30¬∞
 228   3              case 255:
 229   3                  i++;
 230   3                  return 1500;//Ê£ÄÊµãÊó†ËΩ®ÈÅìÂ∞±ËÆ©ËΩ¶Â§¥ÂØπÊ≠£Â∏ÆÂä©ÂÄíËΩ¶
 231   3              default:
 232   3                  return Servo0PwmDuty;
 233   3                      }
 234   2          }
 235   1          else
 236   1          {
 237   2              switch(parameter)
 238   2              {
 239   3              case 191:
 240   3                  i=0;
 241   3                  return 833;//30¬∞
 242   3              case 223:
 243   3                  i=0;
 244   3                  return 1000;
 245   3              case 239:
 246   3                  i=0;
 247   3                  return 1200;
 248   3              case 247:
 249   3                  i=0;
 250   3                  return 1500;//90¬∞
 251   3              case 251:
 252   3                  i=0;
 253   3                  return 1800;
 254   3              case 253:
 255   3                  i=0;
 256   3                  return 2000;
 257   3              case 254:
 258   3                  i=0;
 259   3                  return 2166;
 260   3              case 255:
 261   3                  i++;
 262   3                  return 1500;//Ê£ÄÊµãÊó†ËΩ®ÈÅìÂ∞±ËÆ©ËΩ¶Â§¥ÂØπÊ≠£Â∏ÆÂä©ÂÄíËΩ¶
 263   3              default:
 264   3                  return Servo0PwmDuty;
 265   3              }
 266   2          }
 267   1      
 268   1      }
 269          sbit LEDA=P2^1;//ÂàπËΩ¶ÁÅØÁöÑIOÊé•Âè£
 270          sbit LEDB=P2^2;//ÂàπËΩ¶ÁÅØÁöÑIOÊé•Âè£
 271          /***********************************************************
 272          * Âêç    Áß∞Ôºödaoche()
 273          * Âäü    ËÉΩÔºöÂÄíËΩ¶ÊåáÁ§∫‰ª•ÂèäÂØπÂÄíËΩ¶Áä∂ÊÄÅÁöÑÊ∏ÖÈõ∂
 274          * ÂÖ•Âè£ÂèÇÊï∞ÔºöÊó†
 275          * Âá∫Âè£ÂèÇÊï∞ÔºöÊó†
 276          * ËØ¥    ÊòéÔºöÊ£ÄÊµãÂà∞‰∏¢Â§±ÂêéÂèàÊâßË°å10000‰∏™ÂëΩ‰ª§Âë®ÊúüÁöÑÂÄíËΩ¶ÔºåÊó†ËÆ∫ÊòØÂê¶
 277                                  ÈáçÊñ∞ÂØªÊâæÂà∞Ë∑ØÂæÑÈÉΩÂâçËøõ‰∏ÄÊÆµÔºåÈáçÊñ∞Â∑°Á∫øÂèçÂ§çÊâ´ÊèèÔºå‰øùËØÅÊàêÂäüÁéá
 278          /**********************************************************/
 279          void daoche()
 280          {
 281   1          if(i>5000)          //ËΩ®ÈÅì‰∏¢Â§±Èò≤ÊäñÔºåÂºÄÂßãÂÄíËΩ¶
 282   1          {
 283   2                      LEDA = 1;
 284   2              LEDB = 0;
 285   2                      Car_Motor_B1=0;  
 286   2                      Car_Motor_A1=1;
 287   2                      if(i==5001)
C51 COMPILER V9.54   MAIN                                                                  09/24/2022 16:53:20 PAGE 6   

 288   2                      {
 289   3                              Motor0PwmDuty=10*(pow);
 290   3                              Delay(5);
 291   3                              Motor0PwmDuty=20*(pow);
 292   3                              Delay(8);
 293   3                              Motor0PwmDuty=30*(pow);
 294   3                      }
 295   2              if(i>19000)//ÂÄíËΩ¶ÊåÅÁª≠ÁöÑÊ£ÄÊµãÂë®Êúü
 296   2                      {
 297   3                  i=0;        //‰∏¢Â§±Ê†áËÆ∞Ê∏ÖÈô§
 298   3              }
 299   2                      
 300   2          }
 301   1      
 302   1          else                        //Ê≠£Â∏∏ÂâçËøõ
 303   1                      
 304   1          {   
 305   2                      Car_Motor_B1=1;  
 306   2                      Car_Motor_A1=0;
 307   2                      LEDA = 0;
 308   2              LEDB = 0;
 309   2                      if(i==0)        
 310   2                      {
 311   3                              Motor0PwmDuty=10*(pow);//ÁºìÊÖ¢ÁöÑËΩØÂêØÂä®ÔºåÈò≤Ê≠¢ÊâìÊªë
 312   3                              Delay(5);
 313   3                              Motor0PwmDuty=20*(pow);
 314   3                              Delay(5);
 315   3                              Motor0PwmDuty=30*(pow);
 316   3                      }
 317   2                      Motor0PwmDuty=30*(pow);
 318   2          }
 319   1      }
 320          void main()
 321          {
 322   1          Car_Servo_Init();
 323   1          Car_Motor_Init();
 324   1      
 325   1          while(1)
 326   1          {
 327   2              pow=P1;
 328   2              path=P0;
 329   2              Servo0PwmDuty=ctry(path);
 330   2              daoche();
 331   2          }
 332   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    601    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     12       5
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
